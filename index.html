<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Think and Grow Rich - Napoleon Hill</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#8B5CF6',
                        accent: '#F59E0B'
                    }
                }
            }
        }
    </script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .drawer {
            transform: translateX(-100%);
            transition: transform 0.3s ease-in-out;
        }
        .drawer.open {
            transform: translateX(0);
        }
        .overlay {
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease-in-out;
        }
        .overlay.show {
            opacity: 1;
            visibility: visible;
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 transition-colors duration-300">
    <!-- Navigation Drawer Overlay -->
    <div id="overlay" class="overlay fixed inset-0 bg-black bg-opacity-50 z-40" onclick="closeDrawer()"></div>
    
    <!-- Navigation Drawer -->
    <div id="drawer" class="drawer fixed left-0 top-0 h-full w-80 bg-white dark:bg-gray-800 shadow-xl z-50 overflow-y-auto">
        <div class="p-6">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-xl font-bold text-gray-800 dark:text-white">Menu</h2>
                <button onclick="closeDrawer()" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Dark Mode Toggle in Drawer -->
            <div class="mb-6 p-4 bg-gray-100 dark:bg-gray-700 rounded-lg">
                <div class="flex items-center justify-between">
                    <span class="text-gray-700 dark:text-gray-300">Dark Mode</span>
                    <button id="darkModeToggleDrawer" class="relative inline-flex h-6 w-11 items-center rounded-full bg-gray-300 dark:bg-blue-600 transition-colors">
                        <span class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform dark:translate-x-6 translate-x-1"></span>
                    </button>
                </div>
            </div>
            
            <!-- Navigation Menu -->
            <nav class="space-y-2">
                <a href="#" onclick="showPage('home'); closeDrawer();" class="flex items-center p-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors">
                    <span class="text-2xl mr-3">üè†</span>
                    <span>Home</span>
                </a>
                <a href="#" onclick="showPage('contents'); closeDrawer();" class="flex items-center p-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors">
                    <span class="text-2xl mr-3">üìö</span>
                    <span>Table of Contents</span>
                </a>
                <a href="#" onclick="showPage('notes'); closeDrawer();" class="flex items-center p-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors">
                    <span class="text-2xl mr-3">üìù</span>
                    <span>Personal Notes</span>
                </a>
                <a href="#" onclick="showPage('progress'); closeDrawer();" class="flex items-center p-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors">
                    <span class="text-2xl mr-3">üìä</span>
                    <span>Progress Tracker</span>
                </a>
            </nav>
        </div>
    </div>

    <!-- Header -->
    <header class="gradient-bg text-white p-4 sticky top-0 z-30 shadow-lg">
        <div class="flex items-center justify-between">
            <button onclick="openDrawer()" class="text-white hover:text-gray-200 transition-colors">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
            <h1 class="text-lg font-bold text-center flex-1">Think and Grow Rich</h1>
            <div class="w-6"></div> <!-- Spacer for centering -->
        </div>
    </header>

    <!-- Main Content -->
    <main class="min-h-screen">
        <div class="container mx-auto px-4 py-6 max-w-4xl">
        <!-- Home Page -->
        <div id="homePage" class="page">
            <!-- Quote Section -->
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6 card-hover">
                <div class="text-center">
                    <div class="text-4xl mb-4">üí°</div>
                    <blockquote id="randomQuote" class="text-lg italic text-gray-700 dark:text-gray-300 mb-4"></blockquote>
                    <cite class="text-sm text-gray-500 dark:text-gray-400">- Napoleon Hill</cite>
                </div>
            </div>

            <!-- Overview -->
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6 card-hover">
                <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-4 text-center">About the Book</h2>
                <p class="text-gray-600 dark:text-gray-300 text-justify leading-relaxed">
                    "Think and Grow Rich" is one of the most influential personal development books of all time. Napoleon Hill spent 20 years researching the secrets of success from 500+ of America's wealthiest individuals, including Andrew Carnegie, Henry Ford, and Thomas Edison. This book reveals 13 fundamental principles for achieving financial and personal success.
                </p>
            </div>

            <!-- Quick Access -->
            <div class="grid grid-cols-2 gap-4">
                <button onclick="showPage('contents')" class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6 rounded-xl shadow-lg card-hover text-center">
                    <div class="text-4xl mb-2">üìö</div>
                    <span class="font-semibold">Start Learning</span>
                </button>
                <button onclick="showPage('progress')" class="bg-gradient-to-r from-green-500 to-teal-600 text-white p-6 rounded-xl shadow-lg card-hover text-center">
                    <div class="text-4xl mb-2">üìä</div>
                    <span class="font-semibold">View Progress</span>
                </button>
            </div>
        </div>

        <!-- Contents Page -->
        <div id="contentsPage" class="page hidden">
            <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-6 text-center">13 Principles of Success</h2>
            <div class="space-y-4" id="principlesList"></div>
        </div>

        <!-- Detail Page -->
        <div id="detailPage" class="page hidden">
            <button onclick="showPage('contents')" class="mb-4 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                </svg>
                Back to Contents
            </button>
            <div id="detailContent"></div>
        </div>

        <!-- Notes Page -->
        <div id="notesPage" class="page hidden">
            <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-6 text-center">Personal Notes</h2>
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6">
                <textarea id="personalNotes" placeholder="Write your notes and reflections here..." 
                    class="w-full h-64 p-4 border border-gray-300 dark:border-gray-600 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"></textarea>
                <button onclick="saveNotes()" class="mt-4 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors">
                    Save Notes
                </button>
            </div>
        </div>

        <!-- Progress Page -->
        <div id="progressPage" class="page hidden">
            <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-6 text-center">Progress Tracker</h2>
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6">
                <div class="flex items-center justify-between mb-4">
                    <span class="text-lg font-semibold text-gray-800 dark:text-white">Overall Progress</span>
                    <span id="overallProgress" class="text-2xl font-bold text-blue-600 dark:text-blue-400">0%</span>
                </div>
                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3">
                    <div id="progressBar" class="bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500" style="width: 0%"></div>
                </div>
            </div>
            <div id="progressChecklist" class="space-y-3"></div>
        </div>
        </div>
    </main>

    <script>
        // Principles data
        const principles = [
            {
                id: 1,
                title: "Desire",
                icon: "üî•",
                concept: "Burning desire is the starting point of all achievement.",
                explanation: "Desire is not just 'wanting' something, but an obsession that burns within you. Napoleon Hill emphasizes that weak desires bring weak results, while burning desire creates unstoppable force. The desire must be definite, backed by a burning obsession to achieve it.",
                example: "Edwin C. Barnes had a burning desire to become Thomas Edison's business partner. Despite having no money, he walked to Edison's laboratory and convinced him. His intense desire eventually made him a millionaire through their partnership.",
                tips: [
                    "Write down your specific goals in detail",
                    "Visualize achieving your goals daily",
                    "Set realistic but challenging deadlines",
                    "Read your goals aloud every morning and night"
                ]
            },
            {
                id: 2,
                title: "Faith",
                icon: "üôè",
                concept: "Faith is a state of mind that can be developed through affirmation or repeated instructions to the subconscious mind.",
                explanation: "Faith is an emotion that can be created and strengthened. When faith is mixed with the vibration of thought, the subconscious mind instantly picks up the vibration and translates it into its spiritual equivalent. Faith gives life and power to the impulse of thought.",
                example: "Henry Ford believed he could create a V8 engine in one block, even when his engineers said it was impossible. His unwavering faith motivated his team to keep trying until they successfully created this revolutionary innovation.",
                tips: [
                    "Practice positive affirmations daily",
                    "Surround yourself with people who support your dreams",
                    "Read success stories to strengthen your belief",
                    "Eliminate negative thoughts and doubts from your mind"
                ]
            },
            {
                id: 3,
                title: "Auto-Suggestion",
                icon: "üß†",
                concept: "Auto-suggestion is the medium of communication between the conscious and subconscious mind.",
                explanation: "Through repetition of affirmations and visualization, we can program our subconscious mind to work toward our goals. The subconscious mind makes no distinction between constructive and destructive thought impulses. It works with the material we feed it through our thought impulses.",
                example: "Muhammad Ali used auto-suggestion by repeatedly saying 'I am the greatest' even before becoming world champion. His consistent affirmations helped build extraordinary self-confidence that contributed to his success.",
                tips: [
                    "Create affirmations in positive, present tense statements",
                    "Repeat affirmations with emotion and conviction",
                    "Use detailed visualization involving all senses",
                    "Practice auto-suggestion when your mind is relaxed (morning and night)"
                ]
            },
            {
                id: 4,
                title: "Specialized Knowledge",
                icon: "üéì",
                concept: "General knowledge will not bring riches. Only specialized knowledge that is organized and intelligently directed is useful.",
                explanation: "Knowledge is only potential power. It becomes power only when it is organized into definite plans of action and directed to a definite end. An educated person is one who has developed the faculties of their mind so that they may acquire anything they want without violating the rights of others.",
                example: "Bill Gates didn't finish college, but he had specialized knowledge about computer software. He organized his knowledge and built Microsoft into the world's largest technology company.",
                tips: [
                    "Identify the field of expertise you want to master",
                    "Invest time in deep, focused learning",
                    "Join communities or mastermind groups",
                    "Apply knowledge in real projects"
                ]
            },
            {
                id: 5,
                title: "Imagination",
                icon: "üí≠",
                concept: "Imagination is the workshop of the human mind where all plans are created.",
                explanation: "There are two forms of imagination: synthetic (arranging old concepts in new combinations) and creative (creating something from nothing). Creative imagination works automatically when the conscious mind is working at an exceedingly high rate of speed.",
                example: "Walt Disney imagined Disneyland years before building it. He could see every detail of the theme park in his imagination, which then became the blueprint for reality.",
                tips: [
                    "Set aside time for daydreaming and visualization",
                    "Create vision boards to visualize your goals",
                    "Practice brainstorming without limitations",
                    "Combine old ideas to create new solutions"
                ]
            },
            {
                id: 6,
                title: "Organized Planning",
                icon: "üìã",
                concept: "Desire without a plan is just a wish. Organized planning is the bridge between desire and achievement.",
                explanation: "Effective plans must be specific, measurable, achievable, relevant, and time-bound. Plans must also be flexible and adaptable when facing challenges. You must have a definite plan for carrying out your desire and you must begin at once to put this plan into action.",
                example: "Ray Kroc had an organized plan to expand McDonald's. He didn't just sell burgers; he created a franchise system that could be replicated worldwide.",
                tips: [
                    "Create written plans with specific steps",
                    "Set milestones and deadlines for each phase",
                    "Review and revise plans regularly",
                    "Prepare backup plans for obstacles"
                ]
            },
            {
                id: 7,
                title: "Decision",
                icon: "‚ö°",
                concept: "Successful people make decisions quickly and change them slowly. Unsuccessful people make decisions slowly and change them quickly.",
                explanation: "The ability to make firm decisions is a characteristic of leadership. Indecision is the enemy of achievement. Over-analysis often leads to paralysis in action. People who fail to accumulate money have the habit of reaching decisions very slowly and changing them quickly and often.",
                example: "Steve Jobs was famous for his ability to make quick, decisive decisions. When he decided to return to Apple, he quickly discontinued unprofitable products and focused on innovation.",
                tips: [
                    "Gather sufficient information, not perfect information",
                    "Set deadlines for making decisions",
                    "Trust your intuition after rational analysis",
                    "Learn from wrong decisions without excessive regret"
                ]
            },
            {
                id: 8,
                title: "Persistence",
                icon: "üí™",
                concept: "Persistence is an essential factor in transforming desire into reality. Persistence is to character what carbon is to steel.",
                explanation: "Most people give up when they encounter the first challenge. Persistence is the ability to keep moving forward despite failure, criticism, and obstacles. It's a quality that can be developed through practice and determination.",
                example: "Colonel Sanders was rejected 1,009 times before his chicken recipe was accepted. His persistence built KFC into a globally recognized food franchise.",
                tips: [
                    "Focus on long-term goals, not temporary obstacles",
                    "Celebrate small progress to maintain motivation",
                    "Learn from failures and use them as fuel",
                    "Surround yourself with supportive people"
                ]
            },
            {
                id: 9,
                title: "Master Mind",
                icon: "üë•",
                concept: "Coordination of knowledge and effort in a spirit of harmony between two or more people for the attainment of a definite purpose.",
                explanation: "No individual has sufficient experience, education, native ability, and knowledge to ensure the accumulation of great fortune without the cooperation of others. The Master Mind creates synergy where 1+1=3 or more.",
                example: "Andrew Carnegie built his steel empire by surrounding himself with 50+ experts in a Master Mind group. He acknowledged that his success was the result of the collective power of his team.",
                tips: [
                    "Form groups with people who share similar visions",
                    "Choose members who complement each other's skills",
                    "Hold regular meetings with clear agendas",
                    "Maintain harmony and mutual respect in the group"
                ]
            },
            {
                id: 10,
                title: "Sex Transmutation",
                icon: "üîÑ",
                concept: "Sexual energy is the most powerful creative energy. When properly channeled, it can become a driving force for achievement.",
                explanation: "Hill argued that sexual energy can be transmuted into creative and productive energy. People with high achievement often have strong sexual natures that they channel into their work. This energy, when harnessed, becomes a powerful force for creativity and success.",
                example: "Napoleon Bonaparte, Shakespeare, and George Washington were examples of people who successfully transmuted their sexual energy into extraordinary achievements in their respective fields.",
                tips: [
                    "Channel energy into creative and productive projects",
                    "Use energy to increase focus and work intensity",
                    "Practice self-discipline and self-control",
                    "Focus energy on meaningful goals"
                ]
            },
            {
                id: 11,
                title: "Subconscious Mind",
                icon: "üåô",
                concept: "The subconscious mind works 24 hours a day and can be programmed to work toward achieving our goals.",
                explanation: "The subconscious mind is the connecting link between the finite mind of man and Infinite Intelligence. It can be influenced only through habit and repetition. Thoughts dominated by positive emotions become magnets for positive forces.",
                example: "Thomas Edison used special techniques to access his subconscious mind. He would nap while holding iron balls, and when he fell asleep, the balls would drop and wake him to record the ideas that emerged.",
                tips: [
                    "Fill your mind with positive thoughts before sleep",
                    "Use affirmations to program your subconscious mind",
                    "Practice meditation to access inner wisdom",
                    "Avoid negative input before bedtime"
                ]
            },
            {
                id: 12,
                title: "The Brain",
                icon: "üß©",
                concept: "The human brain is a broadcasting and receiving station for thought vibrations.",
                explanation: "The brain can pick up thought vibrations released by other brains. When two or more people coordinate in a spirit of harmony, they place themselves in position to absorb thoughts from each other. The brain becomes more receptive to vibrations from outside sources when stimulated through emotions.",
                example: "Scientists often discover the same theories or inventions simultaneously in different locations, suggesting that ideas can be 'transmitted' through thought vibrations.",
                tips: [
                    "Maintain brain health with proper nutrition",
                    "Exercise your brain with diverse mental challenges",
                    "Practice mindfulness to improve focus",
                    "Surround yourself with great thinkers"
                ]
            },
            {
                id: 13,
                title: "The Sixth Sense",
                icon: "üëÅÔ∏è",
                concept: "The sixth sense is that portion of the subconscious mind referred to as Creative Imagination.",
                explanation: "The sixth sense is the mental faculty that gives warning of impending dangers and notifies of opportunities for advantage. It is the 'receiving set' through which ideas, plans, and thoughts flash into the mind. This faculty functions only when the mind is vibrating at an exceedingly high rate.",
                example: "Andrew Carnegie often made business decisions based on 'hunches' that later proved highly profitable. He believed his sixth sense guided him in making important decisions.",
                tips: [
                    "Listen to your intuition and gut feelings",
                    "Practice meditation to develop sensitivity",
                    "Record and analyze 'coincidences' in your life",
                    "Trust your natural ability to 'sense' situations"
                ]
            }
        ];

        // Inspirational quotes
        const quotes = [
            "Whatever the mind can conceive and believe, it can achieve.",
            "Desire is the starting point of all achievement.",
            "Failure is a great teacher, and I think when you make mistakes and you recover from them and you treat them as valuable learning experiences, then you've got something to share.",
            "Don't wait. The time will never be just right.",
            "Persistence is the essential factor in the procedure of transmuting desire into its monetary equivalent.",
            "Every adversity carries with it the seed of an equivalent or greater benefit.",
            "Thoughts are things.",
            "A goal is a dream with a deadline.",
            "Set your mind on a definite goal and observe how quickly the world stands aside to let you pass.",
            "The way of success is the way of continuous pursuit of knowledge."
        ];

        // State management
        let currentPage = 'home';
        let checkedItems = JSON.parse(localStorage.getItem('checkedItems') || '{}');
        let personalNotes = localStorage.getItem('personalNotes') || '';

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            loadRandomQuote();
            loadPersonalNotes();
            updateProgress();
            initializeDarkMode();
        });

        function initializeApp() {
            renderPrinciplesList();
            renderProgressChecklist();
        }

        // Navigation functions
        function openDrawer() {
            document.getElementById('drawer').classList.add('open');
            document.getElementById('overlay').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeDrawer() {
            document.getElementById('drawer').classList.remove('open');
            document.getElementById('overlay').classList.remove('show');
            document.body.style.overflow = 'auto';
        }

        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.add('hidden');
            });
            
            // Show selected page
            document.getElementById(pageId + 'Page').classList.remove('hidden');
            currentPage = pageId;
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function showPrincipleDetail(id) {
            const principle = principles.find(p => p.id === id);
            if (!principle) return;

            const detailContent = document.getElementById('detailContent');
            detailContent.innerHTML = `
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6">
                    <div class="text-center mb-6">
                        <div class="text-6xl mb-4">${principle.icon}</div>
                        <h1 class="text-3xl font-bold text-gray-800 dark:text-white">${principle.title}</h1>
                    </div>
                    
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-3">üí° Core Concept</h3>
                            <p class="text-gray-600 dark:text-gray-300 text-justify leading-relaxed">${principle.concept}</p>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-3">üìñ Practical Explanation</h3>
                            <p class="text-gray-600 dark:text-gray-300 text-justify leading-relaxed">${principle.explanation}</p>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-3">üåü Real-World Example</h3>
                            <p class="text-gray-600 dark:text-gray-300 text-justify leading-relaxed">${principle.example}</p>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-3">üí™ Implementation Tips</h3>
                            <ul class="space-y-2">
                                ${principle.tips.map(tip => `
                                    <li class="flex items-start">
                                        <span class="text-blue-500 mr-2 mt-1">‚Ä¢</span>
                                        <span class="text-gray-600 dark:text-gray-300 text-justify">${tip}</span>
                                    </li>
                                `).join('')}
                            </ul>
                        </div>
                    </div>
                </div>
            `;
            
            showPage('detail');
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function renderPrinciplesList() {
            const container = document.getElementById('principlesList');
            container.innerHTML = principles.map(principle => `
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 card-hover cursor-pointer" 
                     onclick="showPrincipleDetail(${principle.id})">
                    <div class="flex items-center">
                        <div class="text-4xl mr-4 flex-shrink-0">${principle.icon}</div>
                        <div class="flex-1">
                            <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-1">${principle.title}</h3>
                            <p class="text-gray-600 dark:text-gray-300 text-sm text-justify">${principle.concept}</p>
                        </div>
                        <svg class="w-6 h-6 text-gray-400 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </div>
            `).join('');
        }

        function renderProgressChecklist() {
            const container = document.getElementById('progressChecklist');
            container.innerHTML = principles.map(principle => `
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4">
                    <label class="flex items-center cursor-pointer">
                        <input type="checkbox" 
                               class="w-5 h-5 text-blue-600 rounded focus:ring-blue-500 mr-3"
                               ${checkedItems[principle.id] ? 'checked' : ''}
                               onchange="toggleCheck(${principle.id})">
                        <div class="flex items-center flex-1">
                            <span class="text-2xl mr-3">${principle.icon}</span>
                            <span class="text-gray-800 dark:text-white font-medium">${principle.title}</span>
                        </div>
                    </label>
                </div>
            `).join('');
        }

        function toggleCheck(id) {
            checkedItems[id] = !checkedItems[id];
            localStorage.setItem('checkedItems', JSON.stringify(checkedItems));
            updateProgress();
        }

        function updateProgress() {
            const totalItems = principles.length;
            const checkedCount = Object.values(checkedItems).filter(Boolean).length;
            const percentage = Math.round((checkedCount / totalItems) * 100);
            
            document.getElementById('overallProgress').textContent = percentage + '%';
            document.getElementById('progressBar').style.width = percentage + '%';
        }

        function loadRandomQuote() {
            const randomIndex = Math.floor(Math.random() * quotes.length);
            document.getElementById('randomQuote').textContent = quotes[randomIndex];
        }

        function loadPersonalNotes() {
            document.getElementById('personalNotes').value = personalNotes;
        }

        function saveNotes() {
            const notes = document.getElementById('personalNotes').value;
            localStorage.setItem('personalNotes', notes);
            personalNotes = notes;
            
            // Show success message
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = 'Saved!';
            button.classList.add('bg-green-600');
            button.classList.remove('bg-blue-600');
            
            setTimeout(() => {
                button.textContent = originalText;
                button.classList.remove('bg-green-600');
                button.classList.add('bg-blue-600');
            }, 2000);
        }

        // Dark mode functionality
        function initializeDarkMode() {
            const isDark = localStorage.getItem('darkMode') === 'true';
            if (isDark) {
                document.documentElement.classList.add('dark');
            }
            
            // Set up toggle buttons
            const toggleButtons = [
                document.getElementById('darkModeToggleDrawer')
            ];
            
            toggleButtons.forEach(button => {
                if (button) {
                    button.addEventListener('click', toggleDarkMode);
                }
            });
        }

        function toggleDarkMode() {
            const isDark = document.documentElement.classList.toggle('dark');
            localStorage.setItem('darkMode', isDark);
        }

        // Touch events for mobile
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', function(e) {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', function(e) {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;
            
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    // Swipe left - close drawer
                    closeDrawer();
                } else {
                    // Swipe right - open drawer (only if near left edge)
                    if (touchStartX < 50) {
                        openDrawer();
                    }
                }
            }
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97fe8c5d5517db41',t:'MTc1ODAwNjY3MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
